<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>Module: ActionController::UploadedFile</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />

    <script language="JavaScript" type="text/javascript">
    // <![CDATA[

        function toggleSource( id )
        {
          var elem
          var link

          if( document.getElementById )
          {
            elem = document.getElementById( id )
            link = document.getElementById( "l_" + id )
          }
          else if ( document.all )
          {
            elem = eval( "document.all." + id )
            link = eval( "document.all.l_" + id )
          }
          else
            return false;

          if( elem.style.display == "block" )
          {
            elem.style.display = "none"
            link.innerHTML = "show source"
          }
          else
          {
            elem.style.display = "block"
            link.innerHTML = "hide source"
          }
        }

        function openCode( url )
        {
          window.open( url, "SOURCE_CODE", "width=400,height=400,scrollbars=yes" )
        }
      // ]]>
    </script>
  </head>

  <body>
  <table width="100%" border='0' cellpadding='0' cellspacing='0' class='banner'><tr>
  <td class="file-title"><span class="file-title-prefix">Module</span><br />ActionController::UploadedFile</td>
  <td align="right">
    <table cellspacing=0 cellpadding=2>
      <tr valign="top">
        <td>In:</td>
        <td>
<a href="../../files/vendor/rails/actionpack/lib/action_controller/uploaded_file_rb.html">vendor/rails/actionpack/lib/action_controller/uploaded_file.rb</a>
        </td>
      </tr>
         </table>
        </td>
        </tr>
      </table>
 <!-- banner header -->

  <div id="bodyContent">
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="#M000502">extended</a></li>
  <li><a href="#M000501">included</a></li>
  <li><a href="#M000503">original_filename</a></li>
  </ul>






<div class="sectiontitle">Public Class methods</div>
<div class="method">
  <div class="title">
    <a name="M000502"></a><b>extended</b>(object)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000502_source')" id="l_M000502_source">show source</a> ]</p>
  <div id="M000502_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/uploaded_file.rb, line 10</span>
10:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">extended</span>(<span class="ruby-identifier">object</span>)
11:       <span class="ruby-identifier">object</span>.<span class="ruby-identifier">class_eval</span> <span class="ruby-keyword kw">do</span>
12:         <span class="ruby-identifier">attr_accessor</span> <span class="ruby-identifier">:original_path</span>, <span class="ruby-identifier">:content_type</span>
13:         <span class="ruby-identifier">alias_method</span> <span class="ruby-identifier">:local_path</span>, <span class="ruby-identifier">:path</span>
14:       <span class="ruby-keyword kw">end</span>
15:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000501"></a><b>included</b>(base)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000501_source')" id="l_M000501_source">show source</a> ]</p>
  <div id="M000501_source" class="dyn-source">
<pre>
   <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/uploaded_file.rb, line 3</span>
3:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">included</span>(<span class="ruby-identifier">base</span>)
4:       <span class="ruby-identifier">base</span>.<span class="ruby-identifier">class_eval</span> <span class="ruby-keyword kw">do</span>
5:         <span class="ruby-identifier">attr_accessor</span> <span class="ruby-identifier">:original_path</span>, <span class="ruby-identifier">:content_type</span>
6:         <span class="ruby-identifier">alias_method</span> <span class="ruby-identifier">:local_path</span>, <span class="ruby-identifier">:path</span>
7:       <span class="ruby-keyword kw">end</span>
8:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div class="method">
  <div class="title">
    <a name="M000503"></a><b>original_filename</b>()
  </div>
  <div class="description">
  <p>
Take the basename of the upload&#8216;s original filename. This handles the
full Windows paths given by Internet Explorer (and perhaps other broken
user agents) without affecting those which give the lone filename. The
Windows regexp is adapted from Perl&#8216;s File::Basename.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000503_source')" id="l_M000503_source">show source</a> ]</p>
  <div id="M000503_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/uploaded_file.rb, line 22</span>
22:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">original_filename</span>
23:       <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">defined?</span> <span class="ruby-ivar">@original_filename</span>
24:         <span class="ruby-ivar">@original_filename</span> =
25:           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">original_path</span>.<span class="ruby-identifier">blank?</span>
26:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">original_path</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^(?:.*[:\\\/])?(.*)/</span><span class="ruby-identifier">m</span>
27:               <span class="ruby-identifier">$1</span>
28:             <span class="ruby-keyword kw">else</span>
29:               <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span> <span class="ruby-identifier">original_path</span>
30:             <span class="ruby-keyword kw">end</span>
31:           <span class="ruby-keyword kw">end</span>
32:       <span class="ruby-keyword kw">end</span>
33:       <span class="ruby-ivar">@original_filename</span>
34:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>

    </body>
</html>